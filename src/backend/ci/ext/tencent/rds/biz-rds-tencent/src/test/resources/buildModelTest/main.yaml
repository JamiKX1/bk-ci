init:
  stream_path: init.yml
on:

  mr:
    - filter:
        target-branches: [ 'master' ]
        action: [ 'create' ]
      action:
        - type: stream
          path: pre-merge.yaml
        - type: stream
          path: xxxx.yaml

    - filter:
        target-branches: [ 'master' ]
        action: [ 'update' ]
      action:
        - type: stream
          path: pre-push.yaml

    - filter:
        target-branches: [ 'master' ]
        action: [ 'merged' ]
      action:
        - type: stream
          path: commit.yaml


  push:
    - filter:
        branches: [ 'trigger' ]
      action:
        - type: stream
          path: primary_ci.yaml
